@page "/"

@using DeezNDeezTools.Data;
@using DeezNDeezTools.Data.Models;

@inject ViciousService ViciousService

<h1>Vicious Mockery Insult Generator</h1>
<div>
    <p style="font-size:small; color:gray;">
        An Insult Generator created for the Vicious Mockery cantrip used by Bards in Dungeons and Dragons.<br />
        Insults are generated by combining adjectives and nouns selected by my 10-year-old son who plays a Halfling Chaotic Neutral Bard named "Sissle Trizzle".<br />
        <strong>Disclaimer:</strong> Some swearing.
    </p>
</div>
<hr />

<div class="container">
    <div class="d-flex justify-content-center mt-5">
        <img src="/images/bard.png" />
    </div>
    <div class="d-flex justify-content-center mt-5">
        <h2>@viciousMockery.Insult</h2>
    </div>
    <div class="d-flex justify-content-center m-5">
        <button class="btn btn-primary" @onclick="GetVicious">Get Vicious!</button>
    </div>
</div>


@code {
    private ViciousMockery viciousMockery;

    protected override async Task OnInitializedAsync()
    {
        await GetVicious();
    }

    protected async Task GetVicious()
    {
        viciousMockery = await ViciousService.GetVicious();
    }
}